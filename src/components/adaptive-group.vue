<template>
    <svg width="271" height="370" viewBox="0 0 171 370" fill="none" xmlns="http://www.w3.org/2000/svg">
<path d="M47 111.84C47 109.719 48.1715 108 49.6165 108H143.812C145.257 108 146.429 109.719 146.429 111.84V136.16C146.429 138.281 145.257 140 143.812 140H49.6165C48.1715 140 47 138.281 47 136.16V111.84Z" fill="#303336"/>
<path d="M76.2238 128.571V124.233H80.7215V122.797H76.2238V119.583H81.135V118.103H74.5988V128.571H76.2238Z" fill="white"/>
<path d="M86.4018 128.724C88.7087 128.724 90.1233 127.179 90.1233 124.618C90.1233 122.071 88.7014 120.519 86.4018 120.519C84.0948 120.519 82.673 122.071 82.673 124.618C82.673 127.179 84.0876 128.724 86.4018 128.724ZM86.4018 127.338C85.0452 127.338 84.2835 126.344 84.2835 124.618C84.2835 122.906 85.0452 121.905 86.4018 121.905C87.7511 121.905 88.5201 122.906 88.5201 124.618C88.5201 126.337 87.7511 127.338 86.4018 127.338Z" fill="white"/>
<path d="M98.6618 120.671H97.1021V125.292C97.1021 126.533 96.4129 127.28 95.1507 127.28C94.0044 127.28 93.4894 126.671 93.4894 125.394V120.671H91.9297V125.8C91.9297 127.657 92.9018 128.724 94.6501 128.724C95.8471 128.724 96.6523 128.216 97.0368 127.316H97.1601V128.571H98.6618V120.671Z" fill="white"/>
<path d="M100.925 128.571H102.485V123.95C102.485 122.717 103.218 121.948 104.371 121.948C105.525 121.948 106.076 122.579 106.076 123.849V128.571H107.636V123.457C107.636 121.578 106.663 120.519 104.901 120.519C103.711 120.519 102.927 121.049 102.543 121.926H102.427V120.671H100.925V128.571Z" fill="white"/>
<path d="M112.721 128.702C113.809 128.702 114.73 128.187 115.202 127.324H115.325V128.571H116.82V117.588H115.26V121.926H115.144C114.716 121.056 113.802 120.541 112.721 120.541C110.726 120.541 109.442 122.122 109.442 124.618C109.442 127.121 110.711 128.702 112.721 128.702ZM113.163 121.941C114.469 121.941 115.289 122.978 115.289 124.625C115.289 126.279 114.477 127.302 113.163 127.302C111.843 127.302 111.052 126.294 111.052 124.618C111.052 122.956 111.85 121.941 113.163 121.941Z" fill="white"/>
<path d="M122.406 121.847C123.559 121.847 124.314 122.652 124.35 123.892H120.36C120.447 122.659 121.252 121.847 122.406 121.847ZM124.343 126.439C124.052 127.055 123.407 127.396 122.464 127.396C121.216 127.396 120.411 126.518 120.36 125.133V125.046H125.939V124.502C125.939 122.021 124.611 120.519 122.413 120.519C120.186 120.519 118.771 122.122 118.771 124.647C118.771 127.171 120.157 128.724 122.42 128.724C124.227 128.724 125.489 127.853 125.844 126.439H124.343Z" fill="white"/>
<path d="M127.81 128.571H129.37V123.907C129.37 122.797 130.204 122.05 131.387 122.05C131.662 122.05 132.127 122.1 132.257 122.144V120.606C132.09 120.563 131.793 120.541 131.561 120.541C130.531 120.541 129.653 121.107 129.428 121.883H129.312V120.671H127.81V128.571Z" fill="white"/>
<path d="M64.1428 124C64.1428 126.209 62.352 128 60.1428 128C57.9337 128 56.1428 126.209 56.1428 124C56.1428 121.791 57.9337 120 60.1428 120C62.352 120 64.1428 121.791 64.1428 124Z" fill="#14AAFF"/>
<path d="M47 226.84C47 224.719 48.2657 223 49.8271 223H151.602C153.163 223 154.429 224.719 154.429 226.84V251.16C154.429 253.281 153.163 255 151.602 255H49.8271C48.2657 255 47 253.281 47 251.16V226.84Z" fill="#303336"/>
<path d="M79.3215 243.571L83.043 233.103H81.3165L78.509 241.54H78.3857L75.5637 233.103H73.7936L77.5369 243.571H79.3215Z" fill="white"/>
<path d="M84.7188 243.571H86.2713V235.671H84.7188V243.571ZM85.495 234.286C86.0754 234.286 86.5034 233.872 86.5034 233.335C86.5034 232.791 86.0754 232.378 85.495 232.378C84.9147 232.378 84.4867 232.791 84.4867 233.335C84.4867 233.872 84.9147 234.286 85.495 234.286Z" fill="white"/>
<path d="M88.3823 237.906C88.3823 239.081 89.0787 239.756 90.5804 240.111L91.9588 240.43C92.7495 240.619 93.1195 240.924 93.1195 241.395C93.1195 242.026 92.4303 242.462 91.4582 242.462C90.5151 242.462 89.9348 242.084 89.7389 241.475H88.1792C88.317 242.875 89.543 243.724 91.4219 243.724C93.3081 243.724 94.6937 242.73 94.6937 241.243C94.6937 240.082 93.99 239.436 92.4883 239.088L91.1753 238.783C90.3192 238.588 89.9203 238.29 89.9203 237.819C89.9203 237.202 90.5804 236.789 91.4509 236.789C92.336 236.789 92.9018 237.158 93.0469 237.739H94.5413C94.389 236.346 93.2283 235.519 91.4509 235.519C89.6663 235.519 88.3823 236.506 88.3823 237.906Z" fill="white"/>
<path d="M96.6016 243.571H98.1541V235.671H96.6016V243.571ZM97.3778 234.286C97.9582 234.286 98.3862 233.872 98.3862 233.335C98.3862 232.791 97.9582 232.378 97.3778 232.378C96.7975 232.378 96.3695 232.791 96.3695 233.335C96.3695 233.872 96.7975 234.286 97.3778 234.286Z" fill="white"/>
<path d="M103.784 243.724C106.09 243.724 107.505 242.179 107.505 239.618C107.505 237.071 106.083 235.519 103.784 235.519C101.477 235.519 100.055 237.071 100.055 239.618C100.055 242.179 101.469 243.724 103.784 243.724ZM103.784 242.338C102.427 242.338 101.665 241.344 101.665 239.618C101.665 237.906 102.427 236.905 103.784 236.905C105.133 236.905 105.902 237.906 105.902 239.618C105.902 241.337 105.133 242.338 103.784 242.338Z" fill="white"/>
<path d="M109.384 243.571H110.944V238.95C110.944 237.717 111.676 236.948 112.83 236.948C113.983 236.948 114.535 237.579 114.535 238.849V243.571H116.094V238.457C116.094 236.578 115.122 235.519 113.359 235.519C112.17 235.519 111.386 236.049 111.002 236.926H110.886V235.671H109.384V243.571Z" fill="white"/>
<path d="M120.875 242.389C120.026 242.389 119.41 241.975 119.41 241.265C119.41 240.568 119.903 240.198 120.991 240.126L122.921 240.002V240.662C122.921 241.642 122.05 242.389 120.875 242.389ZM120.476 243.702C121.513 243.702 122.377 243.252 122.848 242.462H122.972V243.571H124.473V238.174C124.473 236.506 123.356 235.519 121.376 235.519C119.584 235.519 118.307 236.39 118.147 237.746H119.656C119.83 237.188 120.433 236.868 121.303 236.868C122.369 236.868 122.921 237.34 122.921 238.174V238.856L120.781 238.979C118.902 239.095 117.843 239.915 117.843 241.337C117.843 242.781 118.953 243.702 120.476 243.702Z" fill="white"/>
<path d="M126.693 243.571H128.253V238.907C128.253 237.797 129.087 237.05 130.27 237.05C130.545 237.05 131.01 237.1 131.14 237.144V235.606C130.973 235.563 130.676 235.541 130.444 235.541C129.414 235.541 128.536 236.107 128.311 236.883H128.195V235.671H126.693V243.571Z" fill="white"/>
<path d="M133.469 246.437C135.079 246.437 135.826 245.82 136.501 243.898L139.446 235.671H137.792L135.819 241.946H135.696L133.715 235.671H132.018L134.876 243.6L134.76 243.985C134.492 244.783 134.071 245.088 133.331 245.088C133.186 245.088 132.946 245.08 132.823 245.059V246.401C132.968 246.422 133.338 246.437 133.469 246.437Z" fill="white"/>
<path d="M64.1428 239C64.1428 241.209 62.352 243 60.1428 243C57.9337 243 56.1428 241.209 56.1428 239C56.1428 236.791 57.9337 235 60.1428 235C62.352 235 64.1428 236.791 64.1428 239Z" fill="#14FFAA"/>
<path d="M47 341.84C47 339.719 48.333 338 49.9774 338H157.165C158.81 338 160.143 339.719 160.143 341.84V366.16C160.143 368.281 158.81 370 157.165 370H49.9774C48.333 370 47 368.281 47 366.16V341.84Z" fill="#303336"/>
<path d="M76.2238 358.571V348.103H74.5988V358.571H76.2238Z" fill="white"/>
<path d="M78.6685 358.571H80.2282V353.95C80.2282 352.717 80.9609 351.948 82.1144 351.948C83.2678 351.948 83.8192 352.579 83.8192 353.849V358.571H85.3789V353.457C85.3789 351.578 84.4068 350.519 82.644 350.519C81.4542 350.519 80.6707 351.049 80.2863 351.926H80.1702V350.671H78.6685V358.571Z" fill="white"/>
<path d="M88.1356 358.571H89.6953V352.021H91.4364V350.708H89.6735V349.953C89.6735 349.17 90.029 348.778 90.8995 348.778C91.1462 348.778 91.3566 348.792 91.5017 348.821V347.595C91.2332 347.545 90.9286 347.516 90.5731 347.516C88.9336 347.516 88.1356 348.292 88.1356 349.859V350.708H86.837V352.021H88.1356V358.571Z" fill="white"/>
<path d="M93.279 358.571H94.8387V347.588H93.279V358.571Z" fill="white"/>
<path d="M103.841 350.671H102.282V355.292C102.282 356.533 101.593 357.28 100.33 357.28C99.1841 357.28 98.6691 356.671 98.6691 355.394V350.671H97.1094V355.8C97.1094 357.657 98.0815 358.724 99.8298 358.724C101.027 358.724 101.832 358.216 102.216 357.316H102.34V358.571H103.841V350.671Z" fill="white"/>
<path d="M109.348 351.847C110.501 351.847 111.256 352.652 111.292 353.892H107.302C107.389 352.659 108.194 351.847 109.348 351.847ZM111.285 356.439C110.994 357.055 110.349 357.396 109.406 357.396C108.158 357.396 107.353 356.518 107.302 355.133V355.046H112.881V354.502C112.881 352.021 111.553 350.519 109.355 350.519C107.128 350.519 105.713 352.122 105.713 354.647C105.713 357.171 107.099 358.724 109.362 358.724C111.169 358.724 112.431 357.853 112.786 356.439H111.285Z" fill="white"/>
<path d="M114.752 358.571H116.312V353.95C116.312 352.717 117.045 351.948 118.198 351.948C119.352 351.948 119.903 352.579 119.903 353.849V358.571H121.463V353.457C121.463 351.578 120.49 350.519 118.728 350.519C117.538 350.519 116.754 351.049 116.37 351.926H116.254V350.671H114.752V358.571Z" fill="white"/>
<path d="M130.349 353.254C130.146 351.672 128.949 350.519 126.969 350.519C124.669 350.519 123.269 352.064 123.269 354.596C123.269 357.171 124.676 358.724 126.976 358.724C128.927 358.724 130.146 357.621 130.349 356.032H128.833C128.63 356.881 127.955 357.331 126.969 357.331C125.67 357.331 124.865 356.308 124.865 354.596C124.865 352.913 125.663 351.912 126.969 351.912C128.013 351.912 128.652 352.485 128.833 353.254H130.349Z" fill="white"/>
<path d="M135.377 351.847C136.53 351.847 137.285 352.652 137.321 353.892H133.331C133.418 352.659 134.223 351.847 135.377 351.847ZM137.314 356.439C137.023 357.055 136.378 357.396 135.435 357.396C134.187 357.396 133.382 356.518 133.331 355.133V355.046H138.91V354.502C138.91 352.021 137.582 350.519 135.384 350.519C133.157 350.519 131.742 352.122 131.742 354.647C131.742 357.171 133.128 358.724 135.391 358.724C137.198 358.724 138.46 357.853 138.815 356.439H137.314Z" fill="white"/>
<path d="M140.781 358.571H142.341V353.907C142.341 352.797 143.175 352.05 144.358 352.05C144.633 352.05 145.098 352.1 145.228 352.144V350.606C145.061 350.562 144.764 350.541 144.532 350.541C143.502 350.541 142.624 351.107 142.399 351.883H142.283V350.671H140.781V358.571Z" fill="white"/>
<path d="M64.1428 354C64.1428 356.209 62.352 358 60.1428 358C57.9337 358 56.1428 356.209 56.1428 354C56.1428 351.791 57.9337 350 60.1428 350C62.352 350 64.1428 351.791 64.1428 354Z" fill="#FFBD14"/>
<path d="M8 354L8 12" stroke="#E1E6EC" stroke-width="2"/>
<path :d="lineWigth" :stroke="lineColor" stroke-width="2"/>

 <g>
    <circle cx="8" cy="124" r="7" fill="white" :stroke="circleColor[1]" stroke-width="2"/>
    <text x="-45" y="130" class="main__progressbar-txt" fill="black">{{data.currentValue}}/5</text>
</g>
            
<g>
    <circle cx="8" cy="239" r="7" fill="white" :stroke="circleColor[2]" stroke-width="2"/>
    <text x="-45" y="244" class="main__progressbar-txt" fill="black">{{data.currentValue}}/10</text>
</g>
<g>
    <circle cx="8" cy="354" r="7" fill="white" :stroke="circleColor[3]" stroke-width="2"/>
    <text x="-45" y="360" class="main__progressbar-txt" fill="black">{{data.currentValue}}/20</text>
</g>

<circle cx="8" cy="8" r="7" fill="white" :stroke="circleColor[0]" stroke-width="2"/>
</svg>
</template>


<script>
import { mapGetters } from "vuex";
// d="M8 74.5L8 12"
export default {
    computed: {
        ...mapGetters(["data"]),
        lineWigth(){
            switch (this.data.currentValue){    
                case 5:
                    return "M8 124L8 12"
                case 10:
                    return "M8 239L8 12"
                case 20:
                    return "M8 354L8 12"
            }
            return `M8 ${this.data.currentValue*18}L8 12`
        },
        lineColor(){
            return this.data.badges.map(i => {
                if (this.data.currentValue < 5){
                    return "#146EFF"
                } else if (this.data.currentValue >= i.value){
                    return i.color
                }
            }).filter(i => i != null).slice(-1)[0]
        },
        circleColor(){
                if (this.data.currentValue<=0) {
                    return ["#E8E6EC", "#E8E6EC", "#E8E6EC", "#E8E6EC"]
                } else if (this.data.currentValue<5){
                    return [this.lineColor, "#E8E6EC", "#E8E6EC", "#E8E6EC"]
                } else if (this.data.currentValue<10 && this.data.currentValue>=5) {
                    return [this.lineColor, this.lineColor, "#E8E6EC", "#E8E6EC"]
                } else if (this.data.currentValue>=10 && this.data.currentValue<20) {
                    return [this.lineColor, this.lineColor, this.lineColor, "#E8E6EC"]
                } else {
                    return [this.lineColor, this.lineColor, this.lineColor, this.lineColor]
                }
        }
    }
}
</script>

<style lang="scss" scoped>
 svg{
     display: none;
 }
 @media only screen and (max-width: 768px){
    svg {
        margin: 0 122px;
        margin-top: 32px;
        display: block;
        text{
            font-family: 'Montserrat', sans-serif;
            font-size: 15px;
        }
    }
}
</style>